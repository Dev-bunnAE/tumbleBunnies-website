(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[34],{2726:(e,s,a)=>{Promise.resolve().then(a.bind(a,9068))},2773:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(157).A)("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]])},3349:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(157).A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},9068:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>m});var t=a(5155),d=a(2204),l=a(7857),n=a(2298),r=a(5317),i=a(6874),c=a.n(i),o=a(5695),h=a(2115);function m(){let[e,s]=(0,h.useState)([]),[a,i]=(0,h.useState)(!0),[m,x]=(0,h.useState)(""),[u,b]=(0,h.useState)("all"),p=(0,o.useRouter)();async function j(a){confirm("Are you sure you want to delete this merchandise item?")&&(await (0,r.kd)((0,r.H9)(n.db,"merchandise",a)),s(e.filter(e=>e.id!==a)))}async function f(a){let t=e.find(e=>e.id===a);t&&(await (0,r.mZ)((0,r.H9)(n.db,"merchandise",a),{enabled:!t.enabled}),s(e.map(e=>e.id===a?{...e,enabled:!e.enabled}:e)))}(0,h.useEffect)(()=>{!async function(){i(!0),s((await (0,r.GG)((0,r.rJ)(n.db,"merchandise"))).docs.map(e=>({id:e.id,...e.data()}))),i(!1)}()},[]);let N=e.filter(e=>{if("all"!==u&&e.enabled!==("enabled"===u))return!1;let s=m.toLowerCase();return!s||!!e.name.toLowerCase().includes(s)||!!e.description.toLowerCase().includes(s)});return(0,t.jsx)(d.AdminAuthGuard,{children:(0,t.jsxs)("div",{children:[(0,t.jsx)(l.AdminHeader,{}),(0,t.jsxs)("main",{className:"container mx-auto px-4 py-12",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-headline font-bold text-primary",children:"Manage Merchandise"}),(0,t.jsx)(c(),{href:"/admin/merchandise/new",className:"bg-primary text-primary-foreground px-4 py-2 rounded font-semibold hover:bg-primary/90 transition",children:"Add Merchandise"})]}),(0,t.jsxs)("div",{className:"mb-4 flex flex-wrap gap-4 items-end",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold mb-1",children:"Search"}),(0,t.jsx)("input",{className:"p-2 border rounded w-48",placeholder:"Name, description...",value:m,onChange:e=>x(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold mb-1",children:"Status"}),(0,t.jsxs)("select",{className:"p-2 border rounded",value:u,onChange:e=>b(e.target.value),children:[(0,t.jsx)("option",{value:"all",children:"All"}),(0,t.jsx)("option",{value:"enabled",children:"Enabled"}),(0,t.jsx)("option",{value:"disabled",children:"Disabled"})]})]})]}),(0,t.jsxs)("div",{className:"bg-card rounded-lg shadow-md p-6",children:[(0,t.jsx)("h2",{className:"font-bold text-xl mb-4",children:"Merchandise List"}),a?(0,t.jsx)("p",{children:"Loading..."}):0===N.length?(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:"No merchandise found."}):(0,t.jsxs)("table",{className:"min-w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"text-left p-2",children:"Name"}),(0,t.jsx)("th",{className:"text-left p-2",children:"Description"}),(0,t.jsx)("th",{className:"text-left p-2",children:"Price"}),(0,t.jsx)("th",{className:"text-left p-2",children:"Status"}),(0,t.jsx)("th",{className:"text-left p-2",children:"Created"}),(0,t.jsx)("th",{className:"text-left p-2",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:N.map(e=>(0,t.jsxs)("tr",{className:"border-t",children:[(0,t.jsx)("td",{className:"p-2",children:e.name}),(0,t.jsx)("td",{className:"p-2",children:e.description}),(0,t.jsxs)("td",{className:"p-2",children:["$",e.price.toFixed(2)]}),(0,t.jsx)("td",{className:"p-2",children:(0,t.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(e.enabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.enabled?"Enabled":"Disabled"})}),(0,t.jsx)("td",{className:"p-2",children:new Date(e.createdAt).toLocaleDateString()}),(0,t.jsxs)("td",{className:"p-2 flex gap-2",children:[(0,t.jsx)("button",{className:"bg-primary text-primary-foreground px-2 py-1 rounded hover:bg-primary/90",onClick:()=>p.push("/admin/merchandise/".concat(e.id)),children:"Edit"}),(0,t.jsx)("button",{className:"px-2 py-1 rounded ".concat(e.enabled?"bg-yellow-500 text-white hover:bg-yellow-600":"bg-green-500 text-white hover:bg-green-600"),onClick:()=>f(e.id),children:e.enabled?"Disable":"Enable"}),(0,t.jsx)("button",{className:"bg-destructive text-destructive-foreground px-2 py-1 rounded hover:bg-destructive/80",onClick:()=>j(e.id),children:"Delete"})]})]},e.id))})]})]})]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[992,644,380,537,470,441,684,358],()=>s(2726)),_N_E=e.O()}]);