"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[470],{285:(e,t,r)=>{r.d(t,{$:()=>d});var a=r(5155),s=r(2115),n=r(4253),i=r(2085),l=r(9434);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,a.jsx)(u,{className:(0,l.cn)(o({variant:s,size:i,className:r})),ref:t,...c})});d.displayName="Button"},2204:(e,t,r)=>{r.d(t,{AdminAuthGuard:()=>o});var a=r(5155),s=r(3864),n=r(2298),i=r(5695),l=r(2115);function o(e){let{children:t}=e,{user:r,loading:o}=(0,n.useAuth)(),d=(0,i.useRouter)(),[c,u]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{if(!o){if(!r||!r.email||!r.email.endsWith("@tumblebunnies.com"))return void d.replace("/");u(!0)}},[r,o,d]),o||!c)?(0,a.jsx)(s.k,{fullScreen:!0}):(0,a.jsx)(a.Fragment,{children:t})}},2298:(e,t,r)=>{let a;r.r(t),r.d(t,{AuthProvider:()=>g,auth:()=>c,db:()=>u,deleteImage:()=>p,getImageUrl:()=>h,storage:()=>f,uploadImage:()=>m,useAuth:()=>b});var s=r(5155),n=r(3915),i=r(3004),l=r(5317),o=r(858),d=r(2115);a=(0,n.Dk)().length?(0,n.Dk)()[0]:(0,n.Wp)({apiKey:"AIzaSyDoutWkotaJvc_OF43XO08naU5-l0JWGQA",authDomain:"tumblebunnies-website.firebaseapp.com",projectId:"tumblebunnies-website",storageBucket:"tumblebunnies-website.appspot.com",messagingSenderId:"1089905635184",appId:"1:1089905635184:web:ca992e643d79ef46aa69b5",measurementId:"G-P2B6VNXZK9"});let c=(0,i.xI)(a),u=(0,l.aU)(a),f=(0,o.c7)(a),m=async(e,t)=>{let r=(0,o.KR)(f,t);return await (0,o.D)(r,e),(0,o.qk)(r)},p=async e=>{let t=(0,o.KR)(f,e);await (0,o.XR)(t)},h=async e=>{let t=(0,o.KR)(f,e);return(0,o.qk)(t)},x=(0,d.createContext)(void 0),g=e=>{let{children:t}=e,[r,a]=(0,d.useState)(null),[n,o]=(0,d.useState)(!0);(0,d.useEffect)(()=>{let e=(0,i.hg)(c,e=>{a(e),o(!1)});return()=>e()},[]);let f=async()=>{try{return await (0,i.df)(c,new i.HF),{}}catch(e){return{error:e.message}}},m=async(e,t)=>{try{return await (0,i.x9)(c,e,t),{}}catch(t){let e="An unknown error occurred.";if(t.code)switch(t.code){case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":e="Invalid email or password. Please try again.";break;default:e="An error occurred during sign-in."}return{error:e}}},p=async()=>{await (0,i.CI)(c)},h=async e=>{try{let t=(0,l.rJ)(u,"registrations"),r=(0,l.P)(t,(0,l._M)("userId","==",e)),a=await (0,l.GG)(r);if(a.empty)return null;let s=a.docs.map(e=>({id:e.id,...e.data()}));return s.sort((e,t)=>t.createdAt-e.createdAt),s[0]}catch(e){return console.error("Error fetching registration:",e),null}};return(0,s.jsx)(x.Provider,{value:{user:r,loading:n,signInWithGoogle:f,signInWithEmailPassword:m,logout:p,getRegistration:e=>{try{let t=localStorage.getItem("registrations");if(!t)return null;return JSON.parse(t)[e]||null}catch(e){return null}},getRegistrationAsync:h,getPendingRegistration:e=>{try{let t=localStorage.getItem("pendingRegistrations");if(!t)return null;return JSON.parse(t)[e]||null}catch(e){return null}}},children:t})},b=()=>{let e=(0,d.useContext)(x);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},3864:(e,t,r)=>{r.d(t,{k:()=>n});var a=r(5155);let s=e=>{let{className:t=""}=e;return(0,a.jsxs)("svg",{viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[(0,a.jsx)("ellipse",{cx:"32",cy:"48",rx:"18",ry:"10",fill:"#fff",stroke:"#a78bfa",strokeWidth:"2"}),(0,a.jsx)("ellipse",{cx:"22",cy:"20",rx:"6",ry:"16",fill:"#fff",stroke:"#a78bfa",strokeWidth:"2"}),(0,a.jsx)("ellipse",{cx:"42",cy:"20",rx:"6",ry:"16",fill:"#fff",stroke:"#a78bfa",strokeWidth:"2"}),(0,a.jsx)("ellipse",{cx:"32",cy:"38",rx:"12",ry:"10",fill:"#fff",stroke:"#a78bfa",strokeWidth:"2"}),(0,a.jsx)("circle",{cx:"26",cy:"38",r:"2",fill:"#a78bfa"}),(0,a.jsx)("circle",{cx:"38",cy:"38",r:"2",fill:"#a78bfa"}),(0,a.jsx)("ellipse",{cx:"32",cy:"44",rx:"3",ry:"1.5",fill:"#a78bfa"})]})};function n(e){let{fullScreen:t}=e;return t?(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm",children:(0,a.jsx)(s,{className:"h-24 w-24 animate-pulse"})}):(0,a.jsx)(s,{className:"h-10 w-10 animate-pulse"})}},4838:(e,t,r)=>{r.d(t,{SQ:()=>f,_2:()=>m,lp:()=>p,mB:()=>h,rI:()=>c,ty:()=>u});var a=r(5155),s=r(2115),n=r(952),i=r(3158),l=r(518),o=r(154),d=r(9434);let c=n.bL,u=n.l9;n.YJ,n.ZL,n.Pb,n.z6,s.forwardRef((e,t)=>{let{className:r,inset:s,children:l,...o}=e;return(0,a.jsxs)(n.ZP,{ref:t,className:(0,d.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",r),...o,children:[l,(0,a.jsx)(i.A,{className:"ml-auto"})]})}).displayName=n.ZP.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.G5,{ref:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...s})}).displayName=n.G5.displayName;let f=s.forwardRef((e,t)=>{let{className:r,sideOffset:s=4,...i}=e;return(0,a.jsx)(n.ZL,{children:(0,a.jsx)(n.UC,{ref:t,sideOffset:s,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...i})})});f.displayName=n.UC.displayName;let m=s.forwardRef((e,t)=>{let{className:r,inset:s,...i}=e;return(0,a.jsx)(n.q7,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",r),...i})});m.displayName=n.q7.displayName,s.forwardRef((e,t)=>{let{className:r,children:s,checked:i,...o}=e;return(0,a.jsxs)(n.H_,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),checked:i,...o,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(n.VF,{children:(0,a.jsx)(l.A,{className:"h-4 w-4"})})}),s]})}).displayName=n.H_.displayName,s.forwardRef((e,t)=>{let{className:r,children:s,...i}=e;return(0,a.jsxs)(n.hN,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(n.VF,{children:(0,a.jsx)(o.A,{className:"h-2 w-2 fill-current"})})}),s]})}).displayName=n.hN.displayName;let p=s.forwardRef((e,t)=>{let{className:r,inset:s,...i}=e;return(0,a.jsx)(n.JU,{ref:t,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",r),...i})});p.displayName=n.JU.displayName;let h=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",r),...s})});h.displayName=n.wv.displayName},7857:(e,t,r)=>{r.d(t,{AdminHeader:()=>p});var a=r(5155),s=r(285),n=r(4838),i=r(2298),l=r(1721),o=r(2773),d=r(3349),c=r(6874),u=r.n(c),f=r(5695);let m=[{href:"/admin",label:"Dashboard"},{href:"/admin/facilities",label:"Facilities"},{href:"/admin/classes",label:"Classes"},{href:"/admin/merchandise",label:"Merchandise"},{href:"/admin/orders",label:"Orders"},{href:"/admin/registrations",label:"Registrations"}];function p(){let e=(0,f.usePathname)(),t=(0,f.useRouter)(),{user:r,logout:c}=(0,i.useAuth)(),p=async()=>{await c(),t.push("/")};return(0,a.jsxs)("header",{className:"bg-gradient-to-r from-bubblegum via-sky to-lemon text-primary-foreground sticky top-0 z-50 shadow border-b",children:[(0,a.jsxs)("nav",{className:"container mx-auto px-4 flex items-center justify-between h-16",children:[(0,a.jsxs)("div",{className:"flex items-center gap-8",children:[(0,a.jsxs)(u(),{href:"/admin",className:"font-headline text-2xl font-bold tracking-tight hover:opacity-90 transition-opacity relative",children:["Admin",(0,a.jsx)("span",{className:"block h-1 w-10 bg-bubblegum-dark rounded-full absolute left-1/2 -translate-x-1/2 -bottom-2"})]}),(0,a.jsx)("div",{className:"hidden md:flex gap-4",children:m.map(t=>(0,a.jsx)(u(),{href:t.href,className:"px-3 py-2 rounded-md font-medium transition-colors ".concat(e===t.href?"bg-primary-foreground text-primary":"hover:bg-primary-foreground/10"),children:t.label},t.href))})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)(n.rI,{children:[(0,a.jsx)(n.ty,{asChild:!0,children:(0,a.jsx)(s.$,{variant:"ghost",size:"icon","aria-label":"User Account",children:(0,a.jsx)(l.A,{className:"text-primary"})})}),(0,a.jsxs)(n.SQ,{align:"end",children:[(0,a.jsx)(n.lp,{children:(null==r?void 0:r.email)||"Admin"}),(0,a.jsx)(n.mB,{}),(0,a.jsx)(n._2,{asChild:!0,children:(0,a.jsxs)("a",{href:"https://drive.google.com",target:"_blank",rel:"noopener noreferrer",children:[(0,a.jsx)(o.A,{className:"h-4 w-4 mr-2"})," Google Drive"]})}),(0,a.jsxs)(n._2,{onSelect:p,className:"text-destructive focus:text-destructive",children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-2"})," Logout"]})]})]})})]}),(0,a.jsx)("nav",{className:"md:hidden flex gap-2 px-4 pb-2 pt-1 bg-primary/95 border-t",children:m.map(t=>(0,a.jsx)(u(),{href:t.href,className:"flex-1 text-center py-2 rounded-md font-medium text-sm transition-colors ".concat(e===t.href?"bg-primary-foreground text-primary":"text-primary-foreground hover:bg-primary-foreground/20 hover:text-primary-foreground"),children:t.label},t.href))})]})}},9434:(e,t,r)=>{r.d(t,{cn:()=>n});var a=r(2596),s=r(9688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}}}]);